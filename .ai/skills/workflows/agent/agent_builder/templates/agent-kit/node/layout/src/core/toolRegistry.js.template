// Minimal tool registry. Extend this file to add real tools.
// Tool format aligns with OpenAI Chat Completions "tools" (function calling).

export function getToolSpecs() {
  // Return function specs only (no execution).
  return [
    {
      type: 'function',
      function: {
        name: 'echo',
        description: 'Echo input back. (Example tool; replace with real tools.)',
        parameters: {
          type: 'object',
          additionalProperties: false,
          required: ['text'],
          properties: { text: { type: 'string' } }
        }
      }
    }
  ];
}

export async function executeToolCall(name, args, ctx) {
  if (name === 'echo') {
    return { text: String(args?.text || '') };
  }
  const err = new Error(`Unknown tool: ${name}`);
  err.code = 'UNKNOWN_TOOL';
  throw err;
}
